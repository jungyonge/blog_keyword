<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Setalarm">

    <select id="getKeywordMaster" resultType="HashMap" >
        SELECT
              keyword
        FROM keyword_master
        WHERE used = '사용안함';
    </select>

    <select id="getKeywordRelate1" resultType="HashMap" >
        SELECT
        keyword_rel
        FROM keyword_relate
        WHERE used = '사용안함' and id between 77882 and 400000;

    </select>


    <select id="getMakeKeywordRelate" resultType="HashMap" >
        SELECT
              keyword_rel
        FROM keyword_relate
        WHERE used = '사용안함' AND make ='make';
    </select>


    <select id="getKeywordMasterForMake" resultType="HashMap" parameterType="map">
        SELECT
              st1
        FROM ${table}
        WHERE st1 !='';
    </select>

    <select id="getKeywordRelateForMake" resultType="HashMap" parameterType="map">
        SELECT
               st2
        FROM ${table}
        WHERE st2 !='';
    </select>

    <insert id="insertKeyword_Master" useGeneratedKeys="true" keyProperty="id" parameterType="map">
        INSERT INTO
        keyword_master (keyword)
        VALUES (#{keyword});
    </insert>

    <insert id="insertKeyword_Relate" useGeneratedKeys="true" keyProperty="id" parameterType="map">
        INSERT INTO
        keyword_relate (keyword_rel)
        VALUES (#{keyword});
    </insert>

    <insert id="insertMakeKeyword_Relate" useGeneratedKeys="true" keyProperty="id" parameterType="map">
        INSERT INTO
        keyword_relate (keyword_rel, make)
        VALUES (#{keyword} ,#{make});
    </insert>


    <insert id="insertKeywordStat" useGeneratedKeys="true" keyProperty="id" parameterType="map">
        INSERT INTO
            keyword_stat(relKeyword, monthlyPcQcCnt, monthlyMobileQcCnt, monthlyAvePcClkCnt,
                        monthlyAveMobileClkCnt, monthlyAvePcCtr, monthlyAveMobileCtr, plAvgDepth,
                        compIdx, totalPost, naverCnt, tistoryCnt, elseCnt, whereBlog, whereWeb, whereMobileBlog, whereMobileWeb ,make)
        VALUE
              (#{relKeyword}, #{monthlyPcQcCnt}, #{monthlyMobileQcCnt}, #{monthlyAvePcClkCnt},
              #{monthlyAveMobileClkCnt}, #{monthlyAvePcCtr}, #{monthlyAveMobileCtr}, #{plAvgDepth},
              #{compIdx}, #{totalPost}, #{naverCnt}, #{tistoryCnt}, #{elseCnt}, #{whereBlog}, #{whereWeb}, #{whereMobileBlog}, #{whereMobileWeb} ,#{make})
    </insert>

    <delete id="deleteKeyword_Master">
        DELETE FROM keyword_master WHERE
           id NOT IN (SELECT * FROM (SELECT MIN(id) FROM keyword_master GROUP BY keyword) AS temp);
    </delete>

    <delete id="deleteKeyword_Relete">
        DELETE FROM keyword_relate WHERE
           id NOT IN (SELECT * FROM (SELECT MIN(id) FROM keyword_relate GROUP BY keyword_rel) AS temp);
    </delete>

    <update id="updateUsed_Master">
      UPDATE keyword_master
        SET used = '사용함'
          WHERE keyword = #{keyword};
    </update>

    <update id="updateUsed_Relate" parameterType="map">
      UPDATE keyword_relate
        SET used = '사용함'
          WHERE keyword_rel = #{keyword_rel};
    </update>

    <insert id="insertBasketStat" parameterType="blog.model.BasketballModel">
INSERT INTO sport.basketball_data (GAME_ID, LEAGUE,GROUND, MATCH_DATE, DAY_OF_WEEK, MATCH_TIME, A_TEAM, A_TEAM_TOTAL_POINT, B_TEAM_TOTAL_POINT, B_TEAM, HANDI_CAP, HANDI_CAP_RESULT, POINT_LINE, POINT_LINE_RESULT, A_TEAM_FIRSTQ_POINT, B_TEAM_FIRSTQ_POINT, FIRSTQ_HANDI_CAP, FIRSTQ_HANDI_CAP_RESULT, FIRSTQ_POINT_LINE, FIRSTQ_POINT_LINE_RESULT, FIRSTQ_FIRST_POINT, FIRSTQ_FIRST_FREE_TWO, FIRSTQ_FIRST_TWO_POINT, FIRSTQ_FIRST_THREE_POINT, SECONDQ_FIRST_POINT, SECONDQ_FIRST_FREE_TWO, SECONDQ_FIRST_TWO_POINT, SECONDQ_FIRST_THREE_POINT, THIRDQ_FIRST_POINT, THIRDQ_FIRST_FREE_TWO, THIRDQ_FIRST_TWO_POINT, THIRDQ_FIRST_THREE_POINT, FOURTHQ_FIRST_POINT, FOURTHQ_FIRST_FREE_TWO, FOURTHQ_FIRST_TWO_POINT, FOURTHQ_FIRST_THREE_POINT, FIRSTQ_POINT, SECONDQ_POINT, THIRDQ_POINT, FOURTHQ_POINT, EXTENDQ_POINT, FIRSTQ_TOTAL_POINT, SECONDQ_TOTAL_POINT, THIRDQ_TOTAL_POINT, FOURTHQ_TOTAL_POINT, EXTENDQ_TOTAL_POINT)
      VALUES (
                #{gameId},
                #{league},
                #{ground},
                #{date},
                #{dayOfWeek},
                #{time},
                #{aTeam},
                #{aTeamTotalPoint},
                #{bTeamTotalPoint},
                #{bTeam},
                #{handiCap},
                #{handiCapResult},
                #{pointLine},
                #{pointLineResult},
                #{aTeamFirstQPoint},
                #{bTeamFirstQPoint},
                #{firstQHandiCap},
                #{firstQHandiCapResult},
                #{firstQPointLine},
                #{firstQPointLineResult},
                #{firstQFirstPoint},
                #{firstQFirstFreeTwo},
                #{firstQFirstTwoPoint},
                #{firstQFirstThreePoint},
                #{secondQFirstPoint},
                #{secondQFirstFreeTwo},
                #{secondQFirstTwoPoint},
                #{secondQFirstThreePoint},
                #{thirdQFirstPoint},
                #{thirdQFirstFreeTwo},
                #{thirdQFirstTwoPoint},
                #{thirdQFirstThreePoint},
                #{fourthQFirstPoint},
                #{fourthQFirstFreeTwo},
                #{fourthQFirstTwoPoint},
                #{fourthQFirstThreePoint},
                #{FirstQPoint},
                #{SecondQPoint},
                #{ThirdQPoint},
                #{FourthQPoint},
                #{ExtendQPoint},
                #{firstQTotalPoint},
                #{secondQTotalPoint},
                #{thirdQTotalPoint},
                #{fourthQTotalPoint},
                #{extendQTotalPoint}
            )
    </insert>

</mapper>